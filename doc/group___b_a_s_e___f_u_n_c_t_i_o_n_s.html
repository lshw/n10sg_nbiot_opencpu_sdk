<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>N10SG OPENCPU MANUAL: BASE_FUNCTIONS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body><script language="javascript">
        if ((window.name != "content") && (navigator.userAgent.indexOf("Opera") <= -1) )
        document.write("<center><a href='index.html?page=group___b_a_s_e___f_u_n_c_t_i_o_n_s.html'>show framing</a></center>")
        </script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="1_bigpic.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">N10SG OPENCPU MANUAL
   &#160;<span id="projectnumber">V1.1.0</span>
   </div>
   <div id="projectbrief">N10SG OPENCPU SDK API使用说明 AUTHOR:XGL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BASE_FUNCTIONS<div class="ingroups"><a class="el" href="group___f_u_n_c_t_i_o_n_s.html">FUNCTIONS</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><br  />
 模组的基本功能函数接口  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for BASE_FUNCTIONS:</div>
<div class="dyncontent">
<div class="center"><img src="group___b_a_s_e___f_u_n_c_t_i_o_n_s.png" border="0" usemap="#group______b__a__s__e______f__u__n__c__t__i__o__n__s" alt=""/></div>
<map name="group______b__a__s__e______f__u__n__c__t__i__o__n__s" id="group______b__a__s__e______f__u__n__c__t__i__o__n__s">
<area shape="rect" title="模组的基本功能函数接口" alt="" coords="148,5,287,31"/>
<area shape="rect" href="group___f_u_n_c_t_i_o_n_s.html" title="opencpu SDK开放的函数接口" alt="" coords="5,5,100,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6740cce5a950af63088d10e1229772c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6740cce5a950af63088d10e1229772c5">opencpu_log</a>(fmt,  arg...)&#160;&#160;&#160;printf(fmt,##arg)</td></tr>
<tr class="memdesc:ga6740cce5a950af63088d10e1229772c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">使用此宏在opencpu中打印log信息.  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6740cce5a950af63088d10e1229772c5">More...</a><br /></td></tr>
<tr class="separator:ga6740cce5a950af63088d10e1229772c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga27696f4e8ff1b35644666a732c3bbafc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga27696f4e8ff1b35644666a732c3bbafc">opencpu_get_eid</a> (unsigned char *buf)</td></tr>
<tr class="memdesc:ga27696f4e8ff1b35644666a732c3bbafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取sim卡EID  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga27696f4e8ff1b35644666a732c3bbafc">More...</a><br /></td></tr>
<tr class="separator:ga27696f4e8ff1b35644666a732c3bbafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85e67831f414ba2c8dcb056dd3d009db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga85e67831f414ba2c8dcb056dd3d009db">opencpu_read_port_config</a> (unsigned char *func_name, serial_port_dev_t *port)</td></tr>
<tr class="memdesc:ga85e67831f414ba2c8dcb056dd3d009db"><td class="mdescLeft">&#160;</td><td class="mdescRight">读取log输出的配置  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga85e67831f414ba2c8dcb056dd3d009db">More...</a><br /></td></tr>
<tr class="separator:ga85e67831f414ba2c8dcb056dd3d009db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06b31719fd50ffea699438b9ec07fec9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga06b31719fd50ffea699438b9ec07fec9">opencpu_delay_us</a> (int us)</td></tr>
<tr class="memdesc:ga06b31719fd50ffea699438b9ec07fec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">us级延时函数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga06b31719fd50ffea699438b9ec07fec9">More...</a><br /></td></tr>
<tr class="separator:ga06b31719fd50ffea699438b9ec07fec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac63c89885113b07f7464bf6def6b9252"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gac63c89885113b07f7464bf6def6b9252">opencpu_delay_ms</a> (int ms)</td></tr>
<tr class="memdesc:gac63c89885113b07f7464bf6def6b9252"><td class="mdescLeft">&#160;</td><td class="mdescRight">ms级延时函数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gac63c89885113b07f7464bf6def6b9252">More...</a><br /></td></tr>
<tr class="separator:gac63c89885113b07f7464bf6def6b9252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98052a000b1cd37c585a11b2f32c82bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga98052a000b1cd37c585a11b2f32c82bd">opencpu_write_port_config</a> (unsigned char *func_name, serial_port_dev_t port)</td></tr>
<tr class="memdesc:ga98052a000b1cd37c585a11b2f32c82bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置log的输出串口（支持四个物理串口和usb的两个虚拟串口），设置完后重启生效  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga98052a000b1cd37c585a11b2f32c82bd">More...</a><br /></td></tr>
<tr class="separator:ga98052a000b1cd37c585a11b2f32c82bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga765a6d9f8fde8b247b0c2800dc1bc5c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga765a6d9f8fde8b247b0c2800dc1bc5c0">opencpu_write_imei_custom</a> (int type, unsigned char *imei_buf)</td></tr>
<tr class="memdesc:ga765a6d9f8fde8b247b0c2800dc1bc5c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">单独对模组当前IMEI和备份IMEI进行写入。写入前先执行CFUN=0  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga765a6d9f8fde8b247b0c2800dc1bc5c0">More...</a><br /></td></tr>
<tr class="separator:ga765a6d9f8fde8b247b0c2800dc1bc5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d00fedf250c15ba84ef879801ef5ffc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6d00fedf250c15ba84ef879801ef5ffc">opencpu_set_cmsysctrl</a> (int op, int mode, int net_light_time_ms, int net_light_regist_time_ms, int net_slake_registing_time_ms, int net_slake_regist_time_ms)</td></tr>
<tr class="memdesc:ga6d00fedf250c15ba84ef879801ef5ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">cmsysctrl配置函数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6d00fedf250c15ba84ef879801ef5ffc">More...</a><br /></td></tr>
<tr class="separator:ga6d00fedf250c15ba84ef879801ef5ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a17ca48be4aeaec999250c2d49927d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5a17ca48be4aeaec999250c2d49927d0">opencpu_get_cmsysctrl</a> (int *sys_status, int *wakeup_out, int *net_light_time_ms, int *net_light_regist_time_ms, int *net_slake_registing_time_ms, int *net_slake_regist_time_ms)</td></tr>
<tr class="memdesc:ga5a17ca48be4aeaec999250c2d49927d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">cmsysctrl读函数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5a17ca48be4aeaec999250c2d49927d0">More...</a><br /></td></tr>
<tr class="separator:ga5a17ca48be4aeaec999250c2d49927d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f30533c624f6db2c3437045fa9186e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga1f30533c624f6db2c3437045fa9186e4">opencpu_cmntp</a> (unsigned char *sntp_ser, unsigned int sntp_port, unsigned int set_rtc, unsigned int timeout, oc_sntp_callback_t user_callback)</td></tr>
<tr class="memdesc:ga1f30533c624f6db2c3437045fa9186e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brief description.  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga1f30533c624f6db2c3437045fa9186e4">More...</a><br /></td></tr>
<tr class="separator:ga1f30533c624f6db2c3437045fa9186e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7a5b6d46bafc8eafe7218d3d2f4714d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gab7a5b6d46bafc8eafe7218d3d2f4714d">opencpu_waketime_set</a> (int lock_time)</td></tr>
<tr class="memdesc:gab7a5b6d46bafc8eafe7218d3d2f4714d"><td class="mdescLeft">&#160;</td><td class="mdescRight">模组在浅睡眠或深度睡眠时可以被WAKEUP_IN引脚的低跳变沿唤醒。此函数用来设置被唤醒后的保持时间  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gab7a5b6d46bafc8eafe7218d3d2f4714d">More...</a><br /></td></tr>
<tr class="separator:gab7a5b6d46bafc8eafe7218d3d2f4714d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5fa62096fe2af060fd01c4d34826b74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaf5fa62096fe2af060fd01c4d34826b74">opencpu_entersleep_mode</a> (void)</td></tr>
<tr class="memdesc:gaf5fa62096fe2af060fd01c4d34826b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">模组在浅睡眠或深度睡眠时可以被WAKEUP_IN引脚的低跳变沿唤醒,然后等待一段时间后恢复睡眠，使用此命令可让模组立即进入睡眠  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaf5fa62096fe2af060fd01c4d34826b74">More...</a><br /></td></tr>
<tr class="separator:gaf5fa62096fe2af060fd01c4d34826b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga527bbf1dc4ac846a9f37ca64cc1cdb91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga527bbf1dc4ac846a9f37ca64cc1cdb91">get_factory_mode</a> (void)</td></tr>
<tr class="memdesc:ga527bbf1dc4ac846a9f37ca64cc1cdb91"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取SDK在首次下载到模组时的启动方式，该函数为SDK内部调用的回调函数，由用户填写返回值  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga527bbf1dc4ac846a9f37ca64cc1cdb91">More...</a><br /></td></tr>
<tr class="separator:ga527bbf1dc4ac846a9f37ca64cc1cdb91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95423ddab4eb26a8bdd1a028771a3bb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga95423ddab4eb26a8bdd1a028771a3bb3">get_run_mode</a> (void)</td></tr>
<tr class="memdesc:ga95423ddab4eb26a8bdd1a028771a3bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取模组当前的运行模式  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga95423ddab4eb26a8bdd1a028771a3bb3">More...</a><br /></td></tr>
<tr class="separator:ga95423ddab4eb26a8bdd1a028771a3bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f057021d76d3890374f7de84b6d77c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga2f057021d76d3890374f7de84b6d77c9">opencpu_get_base_version</a> (unsigned char *base_ver)</td></tr>
<tr class="memdesc:ga2f057021d76d3890374f7de84b6d77c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取模组支持的硬件版本号  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga2f057021d76d3890374f7de84b6d77c9">More...</a><br /></td></tr>
<tr class="separator:ga2f057021d76d3890374f7de84b6d77c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe93efb1b147849f2cc9fbf4bb7d3158"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gafe93efb1b147849f2cc9fbf4bb7d3158">get_band_version</a> (void)</td></tr>
<tr class="memdesc:gafe93efb1b147849f2cc9fbf4bb7d3158"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前固件支持的硬件版本  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gafe93efb1b147849f2cc9fbf4bb7d3158">More...</a><br /></td></tr>
<tr class="separator:gafe93efb1b147849f2cc9fbf4bb7d3158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ae0aa4d47f85ff7e1aed61acaab0e14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5ae0aa4d47f85ff7e1aed61acaab0e14">opencpu_cgact</a> (void)</td></tr>
<tr class="memdesc:ga5ae0aa4d47f85ff7e1aed61acaab0e14"><td class="mdescLeft">&#160;</td><td class="mdescRight">查询网络是否注册成功  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5ae0aa4d47f85ff7e1aed61acaab0e14">More...</a><br /></td></tr>
<tr class="separator:ga5ae0aa4d47f85ff7e1aed61acaab0e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae029e08bad6ea94f14311e019f01ba44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gae029e08bad6ea94f14311e019f01ba44">opencpu_csq</a> (int *rssi, int *rxqual)</td></tr>
<tr class="memdesc:gae029e08bad6ea94f14311e019f01ba44"><td class="mdescLeft">&#160;</td><td class="mdescRight">查询当前信号质量  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gae029e08bad6ea94f14311e019f01ba44">More...</a><br /></td></tr>
<tr class="separator:gae029e08bad6ea94f14311e019f01ba44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad41e382b140747b81e04173dccc108ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad41e382b140747b81e04173dccc108ad">opencpu_reboot</a> (void)</td></tr>
<tr class="memdesc:gad41e382b140747b81e04173dccc108ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">执行系统重启  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad41e382b140747b81e04173dccc108ad">More...</a><br /></td></tr>
<tr class="separator:gad41e382b140747b81e04173dccc108ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18ec1ba085934f2501366dc19e0f392b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga18ec1ba085934f2501366dc19e0f392b">opencpu_write_prod_imei</a> (unsigned char *imei_t)</td></tr>
<tr class="memdesc:ga18ec1ba085934f2501366dc19e0f392b"><td class="mdescLeft">&#160;</td><td class="mdescRight">将模组IMEI备份，并将产品IMEI写入模组替代原IMEI，执行此函数之前必须先执行AT+CFUN=0  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga18ec1ba085934f2501366dc19e0f392b">More...</a><br /></td></tr>
<tr class="separator:ga18ec1ba085934f2501366dc19e0f392b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ec5b17fd910ef340b4bd6ab3ea1a0d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga4ec5b17fd910ef340b4bd6ab3ea1a0d6">opencpu_read_bak_imei</a> (unsigned char *imei)</td></tr>
<tr class="memdesc:ga4ec5b17fd910ef340b4bd6ab3ea1a0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">读取备份区IMEI  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga4ec5b17fd910ef340b4bd6ab3ea1a0d6">More...</a><br /></td></tr>
<tr class="separator:ga4ec5b17fd910ef340b4bd6ab3ea1a0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabea99001e84020c4d1a9ab051ed90c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaabea99001e84020c4d1a9ab051ed90c9">opencpu_iccid</a> (unsigned char *buf)</td></tr>
<tr class="memdesc:gaabea99001e84020c4d1a9ab051ed90c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取SIM ICCID  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaabea99001e84020c4d1a9ab051ed90c9">More...</a><br /></td></tr>
<tr class="separator:gaabea99001e84020c4d1a9ab051ed90c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d247894c275a15d7a8979e77b98789c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga9d247894c275a15d7a8979e77b98789c">opencpu_get_imei</a> (unsigned char *pimei)</td></tr>
<tr class="memdesc:ga9d247894c275a15d7a8979e77b98789c"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取设备IMEI  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga9d247894c275a15d7a8979e77b98789c">More...</a><br /></td></tr>
<tr class="separator:ga9d247894c275a15d7a8979e77b98789c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1646477cab1535f682d19c0aef32c67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad1646477cab1535f682d19c0aef32c67">opencpu_get_imsi</a> (unsigned char *pimsi)</td></tr>
<tr class="memdesc:gad1646477cab1535f682d19c0aef32c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取设备IMSI  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad1646477cab1535f682d19c0aef32c67">More...</a><br /></td></tr>
<tr class="separator:gad1646477cab1535f682d19c0aef32c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadea5589ea4f25e16702ca37923fb8c0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gadea5589ea4f25e16702ca37923fb8c0c">opencpu_lock_light_sleep</a> (void)</td></tr>
<tr class="memdesc:gadea5589ea4f25e16702ca37923fb8c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">关闭模组浅睡眠，执行了此函数之后，设备将无法进入浅睡眠以及PSM等各种省电模式  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gadea5589ea4f25e16702ca37923fb8c0c">More...</a><br /></td></tr>
<tr class="separator:gadea5589ea4f25e16702ca37923fb8c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2429f81bb79a812e2be4abbaae6db9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gac2429f81bb79a812e2be4abbaae6db9e">opencpu_unlock_light_sleep</a> (void)</td></tr>
<tr class="memdesc:gac2429f81bb79a812e2be4abbaae6db9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启浅睡眠，与关闭浅睡眠函数成对使用，开启之后，设备就会按照正常流程，在该进入省电模式的时候进入省电模式  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gac2429f81bb79a812e2be4abbaae6db9e">More...</a><br /></td></tr>
<tr class="separator:gac2429f81bb79a812e2be4abbaae6db9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3578d387aa1433624fce67b1e009cff4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga3578d387aa1433624fce67b1e009cff4">opencpu_get_psmparam</a> (ril_power_saving_mode_setting_req_t *req)</td></tr>
<tr class="memdesc:ga3578d387aa1433624fce67b1e009cff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取PSM参数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga3578d387aa1433624fce67b1e009cff4">More...</a><br /></td></tr>
<tr class="separator:ga3578d387aa1433624fce67b1e009cff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b9ba3e44e7eeb7f727f323f44a75ca2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5b9ba3e44e7eeb7f727f323f44a75ca2">opencpu_set_psmparam</a> (ril_power_saving_mode_setting_req_t *req)</td></tr>
<tr class="memdesc:ga5b9ba3e44e7eeb7f727f323f44a75ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置PSM参数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5b9ba3e44e7eeb7f727f323f44a75ca2">More...</a><br /></td></tr>
<tr class="separator:ga5b9ba3e44e7eeb7f727f323f44a75ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeee164d943233cbdfd131bb05b27996f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaeee164d943233cbdfd131bb05b27996f">opencpu_set_edrx</a> (int eDRX_mode, int act_type, char *requested_eDRX_value)</td></tr>
<tr class="memdesc:gaeee164d943233cbdfd131bb05b27996f"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置EDRX  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaeee164d943233cbdfd131bb05b27996f">More...</a><br /></td></tr>
<tr class="separator:gaeee164d943233cbdfd131bb05b27996f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga276db3f16bfa0b71d82fa70c24e9d42c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga276db3f16bfa0b71d82fa70c24e9d42c">opencpu_read_edrx</a> (int *act_type, unsigned char *edrx_value)</td></tr>
<tr class="memdesc:ga276db3f16bfa0b71d82fa70c24e9d42c"><td class="mdescLeft">&#160;</td><td class="mdescRight">读取EDRX设置  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga276db3f16bfa0b71d82fa70c24e9d42c">More...</a><br /></td></tr>
<tr class="separator:ga276db3f16bfa0b71d82fa70c24e9d42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8836c4e1793d4b9339635bcf79e611f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga8836c4e1793d4b9339635bcf79e611f6">opencpu_read_edrxrdp</a> (ril_read_eDRX_dynamic_parameters_rsp_t *edrxrdp_value)</td></tr>
<tr class="memdesc:ga8836c4e1793d4b9339635bcf79e611f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">读取EDRX生效值  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga8836c4e1793d4b9339635bcf79e611f6">More...</a><br /></td></tr>
<tr class="separator:ga8836c4e1793d4b9339635bcf79e611f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6dbbfff7f63f7812569d8e912ac54013"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6dbbfff7f63f7812569d8e912ac54013">opencpu_cfun_read</a> (int *cfun)</td></tr>
<tr class="memdesc:ga6dbbfff7f63f7812569d8e912ac54013"><td class="mdescLeft">&#160;</td><td class="mdescRight">cfun的读取命令  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6dbbfff7f63f7812569d8e912ac54013">More...</a><br /></td></tr>
<tr class="separator:ga6dbbfff7f63f7812569d8e912ac54013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f0e89cb25f882668fa30625ce1aa764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga9f0e89cb25f882668fa30625ce1aa764">opencpu_cfun_excute</a> (int cfun)</td></tr>
<tr class="memdesc:ga9f0e89cb25f882668fa30625ce1aa764"><td class="mdescLeft">&#160;</td><td class="mdescRight">cfun的设置命令  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga9f0e89cb25f882668fa30625ce1aa764">More...</a><br /></td></tr>
<tr class="separator:ga9f0e89cb25f882668fa30625ce1aa764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1bd35f7e333795f2c33e4b08c509bc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad1bd35f7e333795f2c33e4b08c509bc5">opencpu_cereg_read</a> (ril_eps_network_registration_status_rsp_t *cereg_temp)</td></tr>
<tr class="memdesc:gad1bd35f7e333795f2c33e4b08c509bc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">CEREG读取  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad1bd35f7e333795f2c33e4b08c509bc5">More...</a><br /></td></tr>
<tr class="separator:gad1bd35f7e333795f2c33e4b08c509bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa981849f292f84c267eec49a0a19ec1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaa981849f292f84c267eec49a0a19ec1d">opencpu_cereg_excute</a> (int cereg)</td></tr>
<tr class="memdesc:gaa981849f292f84c267eec49a0a19ec1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">CEREG设置  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaa981849f292f84c267eec49a0a19ec1d">More...</a><br /></td></tr>
<tr class="separator:gaa981849f292f84c267eec49a0a19ec1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff62f2d3192db36b21a525b6678edc08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaff62f2d3192db36b21a525b6678edc08">opencpu_wakeup_callback</a> (void)</td></tr>
<tr class="memdesc:gaff62f2d3192db36b21a525b6678edc08"><td class="mdescLeft">&#160;</td><td class="mdescRight">wakein 引脚下降沿中断回调函数  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gaff62f2d3192db36b21a525b6678edc08">More...</a><br /></td></tr>
<tr class="separator:gaff62f2d3192db36b21a525b6678edc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac35982c7377fe5186da7c943d3912380"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gac35982c7377fe5186da7c943d3912380">opencpu_is_boot_from_sleep</a> (void)</td></tr>
<tr class="memdesc:gac35982c7377fe5186da7c943d3912380"><td class="mdescLeft">&#160;</td><td class="mdescRight">判断模组是否是从PSM模式唤醒  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gac35982c7377fe5186da7c943d3912380">More...</a><br /></td></tr>
<tr class="separator:gac35982c7377fe5186da7c943d3912380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a4b85a1696e52b30f0a6c49ba04b585"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6a4b85a1696e52b30f0a6c49ba04b585">opencpu_clplmn</a> (void)</td></tr>
<tr class="memdesc:ga6a4b85a1696e52b30f0a6c49ba04b585"><td class="mdescLeft">&#160;</td><td class="mdescRight">清频  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga6a4b85a1696e52b30f0a6c49ba04b585">More...</a><br /></td></tr>
<tr class="separator:ga6a4b85a1696e52b30f0a6c49ba04b585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1054de50fe71c8ed3042edcd5fafcd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gae1054de50fe71c8ed3042edcd5fafcd8">opencpu_frcllck</a> (int32_t lock, int32_t earfcn, int32_t earfcn_offset, int32_t pci)</td></tr>
<tr class="memdesc:gae1054de50fe71c8ed3042edcd5fafcd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">锁频点，小区,用法类似AT*FRCLLCK  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gae1054de50fe71c8ed3042edcd5fafcd8">More...</a><br /></td></tr>
<tr class="separator:gae1054de50fe71c8ed3042edcd5fafcd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad69e5f68d08090a5b8330dfff7ee7718"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad69e5f68d08090a5b8330dfff7ee7718">opencpu_changebaud</a> (serial_port_dev_t id, int baud)</td></tr>
<tr class="memdesc:gad69e5f68d08090a5b8330dfff7ee7718"><td class="mdescLeft">&#160;</td><td class="mdescRight">修改串口波特率，主要用于设置log口波特率  <a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad69e5f68d08090a5b8330dfff7ee7718">More...</a><br /></td></tr>
<tr class="separator:gad69e5f68d08090a5b8330dfff7ee7718"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><br  />
 模组的基本功能函数接口 </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6740cce5a950af63088d10e1229772c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6740cce5a950af63088d10e1229772c5">&#9670;&nbsp;</a></span>opencpu_log</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define opencpu_log</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">arg...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;printf(fmt,##arg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>使用此宏在opencpu中打印log信息. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafe93efb1b147849f2cc9fbf4bb7d3158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe93efb1b147849f2cc9fbf4bb7d3158">&#9670;&nbsp;</a></span>get_band_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_band_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取当前固件支持的硬件版本 </p>
<dl class="section return"><dt>Returns</dt><dd>0：CM 5：LV</dd></dl>
<p>请一定确认固件和实际的硬件版本一致。后续可能会有更多硬件版本 </p>

</div>
</div>
<a id="ga527bbf1dc4ac846a9f37ca64cc1cdb91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga527bbf1dc4ac846a9f37ca64cc1cdb91">&#9670;&nbsp;</a></span>get_factory_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_factory_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取SDK在首次下载到模组时的启动方式，该函数为SDK内部调用的回调函数，由用户填写返回值 </p>
<dl class="section return"><dt>Returns</dt><dd>1：首次下载到模组时以AT模式运行，须执行AT+ATCLOSE并重启，之后模组以opencpu方式运行。0：任何时候以opencpu模式运行</dd></dl>
<p>请联系技术支持人员确认所需启动模式 </p>

</div>
</div>
<a id="ga95423ddab4eb26a8bdd1a028771a3bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95423ddab4eb26a8bdd1a028771a3bb3">&#9670;&nbsp;</a></span>get_run_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_run_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取模组当前的运行模式 </p>
<dl class="section return"><dt>Returns</dt><dd>0：AT模式 1：opencpu模式 </dd></dl>

</div>
</div>
<a id="gaa981849f292f84c267eec49a0a19ec1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa981849f292f84c267eec49a0a19ec1d">&#9670;&nbsp;</a></span>opencpu_cereg_excute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_cereg_excute </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cereg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CEREG设置 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cereg</td><td>要设置的CEREG值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>空</dd></dl>
<p>使用方法请查询AT文档 </p>

</div>
</div>
<a id="gad1bd35f7e333795f2c33e4b08c509bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1bd35f7e333795f2c33e4b08c509bc5">&#9670;&nbsp;</a></span>opencpu_cereg_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_cereg_read </td>
          <td>(</td>
          <td class="paramtype">ril_eps_network_registration_status_rsp_t *&#160;</td>
          <td class="paramname"><em>cereg_temp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CEREG读取 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">cereg_temp</td><td>保存CEREG返回参数的地址 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>空</dd></dl>
<p>AT命令的使用方法请查阅AT文档，结构体的定义请参考ril.h </p>

</div>
</div>
<a id="ga9f0e89cb25f882668fa30625ce1aa764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f0e89cb25f882668fa30625ce1aa764">&#9670;&nbsp;</a></span>opencpu_cfun_excute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_cfun_excute </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cfun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cfun的设置命令 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cfun</td><td>要设置的cfun值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>空 </dd></dl>

</div>
</div>
<a id="ga6dbbfff7f63f7812569d8e912ac54013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6dbbfff7f63f7812569d8e912ac54013">&#9670;&nbsp;</a></span>opencpu_cfun_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_cfun_read </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>cfun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cfun的读取命令 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">cfun</td><td>当前CFUN的值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>空 </dd></dl>

</div>
</div>
<a id="ga5ae0aa4d47f85ff7e1aed61acaab0e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ae0aa4d47f85ff7e1aed61acaab0e14">&#9670;&nbsp;</a></span>opencpu_cgact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_cgact </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>查询网络是否注册成功 </p>
<dl class="section return"><dt>Returns</dt><dd>1：已注册 -1：未注册</dd></dl>
<p>示例：下面代码用来循环等待模组驻网成功，然后执行其他数据收发操作 </p><div class="fragment"><div class="line"><span class="keywordflow">while</span>(<a class="code" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5ae0aa4d47f85ff7e1aed61acaab0e14">opencpu_cgact</a>()!=1)</div>
<div class="line">{</div>
<div class="line">    vTaskDelay(10);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gad69e5f68d08090a5b8330dfff7ee7718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad69e5f68d08090a5b8330dfff7ee7718">&#9670;&nbsp;</a></span>opencpu_changebaud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_changebaud </td>
          <td>(</td>
          <td class="paramtype">serial_port_dev_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>baud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>修改串口波特率，主要用于设置log口波特率 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>串口id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">baud</td><td>设置的波特率 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败 </dd></dl>

</div>
</div>
<a id="ga6a4b85a1696e52b30f0a6c49ba04b585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a4b85a1696e52b30f0a6c49ba04b585">&#9670;&nbsp;</a></span>opencpu_clplmn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_clplmn </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>清频 </p>
<dl class="section return"><dt>Returns</dt><dd>0：成功 &lt;0：失败 </dd></dl>

</div>
</div>
<a id="ga1f30533c624f6db2c3437045fa9186e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f30533c624f6db2c3437045fa9186e4">&#9670;&nbsp;</a></span>opencpu_cmntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_cmntp </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sntp_ser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sntp_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>set_rtc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">oc_sntp_callback_t&#160;</td>
          <td class="paramname"><em>user_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Brief description. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sntp_ser</td><td>NTP服务器域名 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sntp_port</td><td>NTP服务器端口号 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">set_rtc</td><td>是否同步更新RTC，0：不更新，1：更新 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>超时时间 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_callback</td><td>返回结果的回调函数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="gae029e08bad6ea94f14311e019f01ba44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae029e08bad6ea94f14311e019f01ba44">&#9670;&nbsp;</a></span>opencpu_csq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_csq </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rssi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rxqual</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>查询当前信号质量 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">rssi</td><td>信号强度 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxqual</td><td>信号质量 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>空 </dd></dl>

</div>
</div>
<a id="gac63c89885113b07f7464bf6def6b9252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac63c89885113b07f7464bf6def6b9252">&#9670;&nbsp;</a></span>opencpu_delay_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_delay_ms </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ms级延时函数 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ms</td><td>延时周期数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga06b31719fd50ffea699438b9ec07fec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06b31719fd50ffea699438b9ec07fec9">&#9670;&nbsp;</a></span>opencpu_delay_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_delay_us </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>us级延时函数 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">us</td><td>延时周期数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>More details </p>

</div>
</div>
<a id="gaf5fa62096fe2af060fd01c4d34826b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5fa62096fe2af060fd01c4d34826b74">&#9670;&nbsp;</a></span>opencpu_entersleep_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_entersleep_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>模组在浅睡眠或深度睡眠时可以被WAKEUP_IN引脚的低跳变沿唤醒,然后等待一段时间后恢复睡眠，使用此命令可让模组立即进入睡眠 </p>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>More details </p>

</div>
</div>
<a id="gae1054de50fe71c8ed3042edcd5fafcd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1054de50fe71c8ed3042edcd5fafcd8">&#9670;&nbsp;</a></span>opencpu_frcllck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_frcllck </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>earfcn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>earfcn_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>pci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>锁频点，小区,用法类似AT*FRCLLCK </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>0 移出锁频 1使能锁频 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">earfcn</td><td>频点 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">earfcn_offset</td><td>频偏 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pci</td><td>小区ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败 </dd></dl>

</div>
</div>
<a id="ga2f057021d76d3890374f7de84b6d77c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f057021d76d3890374f7de84b6d77c9">&#9670;&nbsp;</a></span>opencpu_get_base_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_get_base_version </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>base_ver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取模组支持的硬件版本号 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">base_ver</td><td>保存版本号字符串的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga5a17ca48be4aeaec999250c2d49927d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a17ca48be4aeaec999250c2d49927d0">&#9670;&nbsp;</a></span>opencpu_get_cmsysctrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_get_cmsysctrl </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sys_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>wakeup_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>net_light_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>net_light_regist_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>net_slake_registing_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>net_slake_regist_time_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cmsysctrl读函数 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_status</td><td>status状态 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wakeup_out</td><td>wakeup_out状态 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_light_time_ms</td><td>仅在op=0且mode=2时有意义，默认80(ms),范围40-65535(ms)，表示非注册状态下高电平持续时间； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_light_regist_time_ms</td><td>仅在op=0且mode=2时有意义，默认80,范围40-65535(ms)，表示注册状态下高电平持续时间； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_slake_registing_time_ms</td><td>仅在op=0且mode=2时有意义，默认800(ms)，范围40-65535(ms)，表示非注册状态下低电平持续时间； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_slake_regist_time_ms</td><td>仅在op=0且mode=2时有意义，默认3000(ms)，范围40-65535(ms)，表示注册状态下低电平持续时间； </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败 </dd></dl>

</div>
</div>
<a id="ga27696f4e8ff1b35644666a732c3bbafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27696f4e8ff1b35644666a732c3bbafc">&#9670;&nbsp;</a></span>opencpu_get_eid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_get_eid </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取sim卡EID </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>保存EID的buffer指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0:成功 -1：失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga9d247894c275a15d7a8979e77b98789c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d247894c275a15d7a8979e77b98789c">&#9670;&nbsp;</a></span>opencpu_get_imei()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_get_imei </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pimei</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取设备IMEI </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pimei</td><td>保存IMEI的地址 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0：成功 -1：失败</dd></dl>
<p>示例：获取设备IMEI </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> local_imei[40] = {0};</div>
<div class="line">memset(local_imei,0,40);</div>
<div class="line"><a class="code" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga9d247894c275a15d7a8979e77b98789c">opencpu_get_imei</a>(local_imei)</div>
<div class="line">opencpu_printf(<span class="stringliteral">&quot;IMEI:%s\n&quot;</span>,local_imei);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gad1646477cab1535f682d19c0aef32c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1646477cab1535f682d19c0aef32c67">&#9670;&nbsp;</a></span>opencpu_get_imsi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_get_imsi </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pimsi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取设备IMSI </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pimsi</td><td>保存IMSI的地址 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败</dd></dl>
<p>示例：获取设备IMSI </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> local_imsi[40] = {0};</div>
<div class="line">memset(local_imsi,0,40);</div>
<div class="line">opencpu_printf(<span class="stringliteral">&quot;result:%d\n&quot;</span>,<a class="code" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad1646477cab1535f682d19c0aef32c67">opencpu_get_imsi</a>(local_imsi));</div>
<div class="line">opencpu_printf(<span class="stringliteral">&quot;IMSI:%s\n&quot;</span>,local_imsi);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga3578d387aa1433624fce67b1e009cff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3578d387aa1433624fce67b1e009cff4">&#9670;&nbsp;</a></span>opencpu_get_psmparam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_get_psmparam </td>
          <td>(</td>
          <td class="paramtype">ril_power_saving_mode_setting_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取PSM参数 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">req</td><td>保存PSM参数的结构体指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败</dd></dl>
<p>这个函数只能查到当前的设置值，这个设置值跟实际基站允许的值不一定相同，要获取准确的PSM参数，得用CEREG命令来查询 示例：获取当前的PSM设置值,结构体的具体意义，请参考ril.h </p><div class="fragment"><div class="line">ril_power_saving_mode_setting_rsp_t psm_rsp1;</div>
<div class="line"><a class="code" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga3578d387aa1433624fce67b1e009cff4">opencpu_get_psmparam</a>(&amp;psm_rsp1);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaabea99001e84020c4d1a9ab051ed90c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabea99001e84020c4d1a9ab051ed90c9">&#9670;&nbsp;</a></span>opencpu_iccid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_iccid </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取SIM ICCID </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>保存ICCID的地址 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：获取成功 -1：获取失败 </dd></dl>

</div>
</div>
<a id="gac35982c7377fe5186da7c943d3912380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac35982c7377fe5186da7c943d3912380">&#9670;&nbsp;</a></span>opencpu_is_boot_from_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_is_boot_from_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>判断模组是否是从PSM模式唤醒 </p>
<dl class="section return"><dt>Returns</dt><dd>1：PSM模式唤醒 0：关机状态下开机或者复位键复位 </dd></dl>

</div>
</div>
<a id="gadea5589ea4f25e16702ca37923fb8c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadea5589ea4f25e16702ca37923fb8c0c">&#9670;&nbsp;</a></span>opencpu_lock_light_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_lock_light_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>关闭模组浅睡眠，执行了此函数之后，设备将无法进入浅睡眠以及PSM等各种省电模式 </p>
<dl class="section return"><dt>Returns</dt><dd>空</dd></dl>
<p>该函数用于用户要执行耗时操作的时候，为防止模组意外进入省电模式，导致数据丢失、程序失控等，先执行此函数关闭睡眠，耗时操作执行完毕之后再开启 </p>

</div>
</div>
<a id="ga4ec5b17fd910ef340b4bd6ab3ea1a0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ec5b17fd910ef340b4bd6ab3ea1a0d6">&#9670;&nbsp;</a></span>opencpu_read_bak_imei()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_read_bak_imei </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>imei</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>读取备份区IMEI </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imei</td><td>保存IMEI的数组地址 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga276db3f16bfa0b71d82fa70c24e9d42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga276db3f16bfa0b71d82fa70c24e9d42c">&#9670;&nbsp;</a></span>opencpu_read_edrx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_read_edrx </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>act_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>edrx_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>读取EDRX设置 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">act_type</td><td>ACT类别，只能为5 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">edrx_value</td><td>EDRX时间参数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0成功，-1失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga8836c4e1793d4b9339635bcf79e611f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8836c4e1793d4b9339635bcf79e611f6">&#9670;&nbsp;</a></span>opencpu_read_edrxrdp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_read_edrxrdp </td>
          <td>(</td>
          <td class="paramtype">ril_read_eDRX_dynamic_parameters_rsp_t *&#160;</td>
          <td class="paramname"><em>edrxrdp_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>读取EDRX生效值 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">edrxrdp_value</td><td>EDRX生效参数的结构体，请参见ril.h </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0成功，-1失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga85e67831f414ba2c8dcb056dd3d009db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85e67831f414ba2c8dcb056dd3d009db">&#9670;&nbsp;</a></span>opencpu_read_port_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_read_port_config </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>func_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">serial_port_dev_t *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>读取log输出的配置 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func_name</td><td>"emmi":GKI log. "uls":HSL log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>保存串口号的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>More details </p>

</div>
</div>
<a id="gad41e382b140747b81e04173dccc108ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad41e382b140747b81e04173dccc108ad">&#9670;&nbsp;</a></span>opencpu_reboot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_reboot </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>执行系统重启 </p>
<dl class="section return"><dt>Returns</dt><dd>空 </dd></dl>

</div>
</div>
<a id="ga6d00fedf250c15ba84ef879801ef5ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d00fedf250c15ba84ef879801ef5ffc">&#9670;&nbsp;</a></span>opencpu_set_cmsysctrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_set_cmsysctrl </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>net_light_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>net_light_regist_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>net_slake_registing_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>net_slake_regist_time_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cmsysctrl配置函数 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>设置引脚设置，0为STATE，1为WAKEUP-OUT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>设置模式值，与op共同生效； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_light_time_ms</td><td>仅在op=0且mode=2时有意义，默认80(ms),范围40-65535(ms)，表示非注册状态下高电平持续时间； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_light_regist_time_ms</td><td>仅在op=0且mode=2时有意义，默认80,范围40-65535(ms)，表示注册状态下高电平持续时间； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_slake_registing_time_ms</td><td>仅在op=0且mode=2时有意义，默认800(ms)，范围40-65535(ms)，表示非注册状态下低电平持续时间； </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">net_slake_regist_time_ms</td><td>仅在op=0且mode=2时有意义，默认3000(ms)，范围40-65535(ms)，表示注册状态下低电平持续时间； </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败或者入参非法； \更多信息参阅《N10SG_AT_Command_Interface_Specification.pdf》中AT+CMSYSCTRL指令说明； \ </dd></dl>

</div>
</div>
<a id="gaeee164d943233cbdfd131bb05b27996f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeee164d943233cbdfd131bb05b27996f">&#9670;&nbsp;</a></span>opencpu_set_edrx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_set_edrx </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>eDRX_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>act_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>requested_eDRX_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置EDRX </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eDRX_mode</td><td>EDRX模式，0或1，代表关闭或使能 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">act_type</td><td>ACT类别，只能为5 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requested_eDRX_value</td><td>EDRX时间参数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0成功，-1失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="ga5b9ba3e44e7eeb7f727f323f44a75ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b9ba3e44e7eeb7f727f323f44a75ca2">&#9670;&nbsp;</a></span>opencpu_set_psmparam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_set_psmparam </td>
          <td>(</td>
          <td class="paramtype">ril_power_saving_mode_setting_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置PSM参数 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">req</td><td>保存设置PSM参数的结构体指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败</dd></dl>
<p>此函数执行之后，模组会向基站发出消息，进行PSM参数的设置，基站可能同意，可能不同意，根据网络状况稍作延时后，最终结果以CEREG命令查询到的为准 示例：设置PSM参数 </p><div class="fragment"><div class="line">ril_power_saving_mode_setting_req_t psm_req1;</div>
<div class="line">psm_req1.mode=1;</div>
<div class="line">psm_req1.req_prdc_rau=NULL;</div>
<div class="line">psm_req1.req_gprs_rdy_tmr=NULL;</div>
<div class="line">psm_req1.req_prdc_tau=<span class="stringliteral">&quot;00101011&quot;</span>;</div>
<div class="line">psm_req1.req_act_time=<span class="stringliteral">&quot;00100100&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5b9ba3e44e7eeb7f727f323f44a75ca2">opencpu_set_psmparam</a>(&amp;psm_req1);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gac2429f81bb79a812e2be4abbaae6db9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2429f81bb79a812e2be4abbaae6db9e">&#9670;&nbsp;</a></span>opencpu_unlock_light_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_unlock_light_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启浅睡眠，与关闭浅睡眠函数成对使用，开启之后，设备就会按照正常流程，在该进入省电模式的时候进入省电模式 </p>
<dl class="section return"><dt>Returns</dt><dd>空 </dd></dl>

</div>
</div>
<a id="gab7a5b6d46bafc8eafe7218d3d2f4714d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7a5b6d46bafc8eafe7218d3d2f4714d">&#9670;&nbsp;</a></span>opencpu_waketime_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_waketime_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lock_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>模组在浅睡眠或深度睡眠时可以被WAKEUP_IN引脚的低跳变沿唤醒。此函数用来设置被唤醒后的保持时间 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_time</td><td>唤醒保持时间，1到300s </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0：成功 -1：失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="gaff62f2d3192db36b21a525b6678edc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff62f2d3192db36b21a525b6678edc08">&#9670;&nbsp;</a></span>opencpu_wakeup_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_wakeup_callback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wakein 引脚下降沿中断回调函数 </p>
<dl class="section return"><dt>Returns</dt><dd>空</dd></dl>
<p>该函数必须由用户实现，否则无法编译通过，该函数在wakein引脚出现下降沿时调用，该函数为中断回调函数，在该函数中不能执行耗时操作 </p>

</div>
</div>
<a id="ga765a6d9f8fde8b247b0c2800dc1bc5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga765a6d9f8fde8b247b0c2800dc1bc5c0">&#9670;&nbsp;</a></span>opencpu_write_imei_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_write_imei_custom </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>imei_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>单独对模组当前IMEI和备份IMEI进行写入。写入前先执行CFUN=0 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>写入IMEI类型，0：当前IMEI 1：备份IMEI </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imei_buf</td><td>IMEI字符串 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>IMEI写入有失败风险，请读出进行检验，确保写入成功 </p>

</div>
</div>
<a id="ga98052a000b1cd37c585a11b2f32c82bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98052a000b1cd37c585a11b2f32c82bd">&#9670;&nbsp;</a></span>opencpu_write_port_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_write_port_config </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>func_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">serial_port_dev_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置log的输出串口（支持四个物理串口和usb的两个虚拟串口），设置完后重启生效 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func_name</td><td>"emmi":GKI log. "uls":HSL log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>要输出的串口，宏定义见serial_port.h </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 空</dd></dl>
<p>注意：一个串口只能输出一种log </p>

</div>
</div>
<a id="ga18ec1ba085934f2501366dc19e0f392b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18ec1ba085934f2501366dc19e0f392b">&#9670;&nbsp;</a></span>opencpu_write_prod_imei()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_write_prod_imei </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>imei_t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>将模组IMEI备份，并将产品IMEI写入模组替代原IMEI，执行此函数之前必须先执行AT+CFUN=0 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imei_t</td><td>要写入的产品imei字符串 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 -1：失败</dd></dl>
<p>IMEI写入有失败风险，请读出进行检验，确保写入成功 </p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="agroup___b_a_s_e___f_u_n_c_t_i_o_n_s_html_ga3578d387aa1433624fce67b1e009cff4"><div class="ttname"><a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga3578d387aa1433624fce67b1e009cff4">opencpu_get_psmparam</a></div><div class="ttdeci">int opencpu_get_psmparam(ril_power_saving_mode_setting_req_t *req)</div><div class="ttdoc">获取PSM参数</div></div>
<div class="ttc" id="agroup___b_a_s_e___f_u_n_c_t_i_o_n_s_html_ga9d247894c275a15d7a8979e77b98789c"><div class="ttname"><a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga9d247894c275a15d7a8979e77b98789c">opencpu_get_imei</a></div><div class="ttdeci">int opencpu_get_imei(unsigned char *pimei)</div><div class="ttdoc">获取设备IMEI</div></div>
<div class="ttc" id="agroup___b_a_s_e___f_u_n_c_t_i_o_n_s_html_gad1646477cab1535f682d19c0aef32c67"><div class="ttname"><a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#gad1646477cab1535f682d19c0aef32c67">opencpu_get_imsi</a></div><div class="ttdeci">int opencpu_get_imsi(unsigned char *pimsi)</div><div class="ttdoc">获取设备IMSI</div></div>
<div class="ttc" id="agroup___b_a_s_e___f_u_n_c_t_i_o_n_s_html_ga5b9ba3e44e7eeb7f727f323f44a75ca2"><div class="ttname"><a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5b9ba3e44e7eeb7f727f323f44a75ca2">opencpu_set_psmparam</a></div><div class="ttdeci">int opencpu_set_psmparam(ril_power_saving_mode_setting_req_t *req)</div><div class="ttdoc">设置PSM参数</div></div>
<div class="ttc" id="agroup___b_a_s_e___f_u_n_c_t_i_o_n_s_html_ga5ae0aa4d47f85ff7e1aed61acaab0e14"><div class="ttname"><a href="group___b_a_s_e___f_u_n_c_t_i_o_n_s.html#ga5ae0aa4d47f85ff7e1aed61acaab0e14">opencpu_cgact</a></div><div class="ttdeci">int opencpu_cgact(void)</div><div class="ttdoc">查询网络是否注册成功</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
