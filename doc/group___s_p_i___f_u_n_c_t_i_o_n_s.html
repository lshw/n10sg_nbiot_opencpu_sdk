<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>N10SG OPENCPU MANUAL: SPI_FUNCTIONS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body><script language="javascript">
        if ((window.name != "content") && (navigator.userAgent.indexOf("Opera") <= -1) )
        document.write("<center><a href='index.html?page=group___s_p_i___f_u_n_c_t_i_o_n_s.html'>show framing</a></center>")
        </script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="1_bigpic.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">N10SG OPENCPU MANUAL
   &#160;<span id="projectnumber">V1.1.0</span>
   </div>
   <div id="projectbrief">N10SG OPENCPU SDK API使用说明 AUTHOR:XGL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SPI_FUNCTIONS<div class="ingroups"><a class="el" href="group___f_u_n_c_t_i_o_n_s.html">FUNCTIONS</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><br  />
  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for SPI_FUNCTIONS:</div>
<div class="dyncontent">
<div class="center"><img src="group___s_p_i___f_u_n_c_t_i_o_n_s.png" border="0" usemap="#group______s__p__i______f__u__n__c__t__i__o__n__s" alt=""/></div>
<map name="group______s__p__i______f__u__n__c__t__i__o__n__s" id="group______s__p__i______f__u__n__c__t__i__o__n__s">
<area shape="rect" title=" " alt="" coords="148,5,271,31"/>
<area shape="rect" href="group___f_u_n_c_t_i_o_n_s.html" title="opencpu SDK开放的函数接口" alt="" coords="5,5,100,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga895dff6dee1c78f631a7adf1ae9fd2ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga895dff6dee1c78f631a7adf1ae9fd2ea">opencpu_spi_init</a> (hal_spi_master_config_t *spi_config)</td></tr>
<tr class="memdesc:ga895dff6dee1c78f631a7adf1ae9fd2ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化SPI  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga895dff6dee1c78f631a7adf1ae9fd2ea">More...</a><br /></td></tr>
<tr class="separator:ga895dff6dee1c78f631a7adf1ae9fd2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeb491736b78f1a80944ff422835a183"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gaaeb491736b78f1a80944ff422835a183">opencpu_spi_deinit</a> (void)</td></tr>
<tr class="memdesc:gaaeb491736b78f1a80944ff422835a183"><td class="mdescLeft">&#160;</td><td class="mdescRight">关闭SPI  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gaaeb491736b78f1a80944ff422835a183">More...</a><br /></td></tr>
<tr class="separator:gaaeb491736b78f1a80944ff422835a183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b184a641e5c4036051cef8a636397b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga9b184a641e5c4036051cef8a636397b1">opencpu_spi_rw</a> (unsigned char *send_buf, int send_len, unsigned char *read_buf, int read_len)</td></tr>
<tr class="memdesc:ga9b184a641e5c4036051cef8a636397b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI读写，读取长度必须大于发送长度  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga9b184a641e5c4036051cef8a636397b1">More...</a><br /></td></tr>
<tr class="separator:ga9b184a641e5c4036051cef8a636397b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c8b1e6071da463a8634ed3f66dd56b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga1c8b1e6071da463a8634ed3f66dd56b8">opencpu_spi_write</a> (unsigned char *send_buf, int len)</td></tr>
<tr class="memdesc:ga1c8b1e6071da463a8634ed3f66dd56b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI发送  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga1c8b1e6071da463a8634ed3f66dd56b8">More...</a><br /></td></tr>
<tr class="separator:ga1c8b1e6071da463a8634ed3f66dd56b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8ff56443d7a563982886b672858b2b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gaa8ff56443d7a563982886b672858b2b9">opencpu_spi_read</a> (unsigned char *buf, int len)</td></tr>
<tr class="memdesc:gaa8ff56443d7a563982886b672858b2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">spi读取  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gaa8ff56443d7a563982886b672858b2b9">More...</a><br /></td></tr>
<tr class="separator:gaa8ff56443d7a563982886b672858b2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab83d55447f92d42aff4beca836e80a3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gab83d55447f92d42aff4beca836e80a3a">opencpu_spi_init_ex</a> (uint8_t bus, hal_spi_master_config_t *config)</td></tr>
<tr class="memdesc:gab83d55447f92d42aff4beca836e80a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">spi初始化  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gab83d55447f92d42aff4beca836e80a3a">More...</a><br /></td></tr>
<tr class="separator:gab83d55447f92d42aff4beca836e80a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a79f4202d5f483de5d620aafca721b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga8a79f4202d5f483de5d620aafca721b3">openpcu_spi_deinit_ex</a> (uint8_t bus)</td></tr>
<tr class="memdesc:ga8a79f4202d5f483de5d620aafca721b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">spi去初始化  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga8a79f4202d5f483de5d620aafca721b3">More...</a><br /></td></tr>
<tr class="separator:ga8a79f4202d5f483de5d620aafca721b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga567fad7df82b8155af15e0a5221e6745"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga567fad7df82b8155af15e0a5221e6745">opencpu_spi_write_read_ex</a> (uint8_t bus, char *send_data, uint32_t send_len, char *recv_data, uint32_t recv_len)</td></tr>
<tr class="memdesc:ga567fad7df82b8155af15e0a5221e6745"><td class="mdescLeft">&#160;</td><td class="mdescRight">spi读写  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga567fad7df82b8155af15e0a5221e6745">More...</a><br /></td></tr>
<tr class="separator:ga567fad7df82b8155af15e0a5221e6745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad76db1aacb16493f198a6698b4d201b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gad76db1aacb16493f198a6698b4d201b3">opencpu_spi_write_ex</a> (uint8_t bus, char *data, uint32_t len)</td></tr>
<tr class="memdesc:gad76db1aacb16493f198a6698b4d201b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">spi发送  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gad76db1aacb16493f198a6698b4d201b3">More...</a><br /></td></tr>
<tr class="separator:gad76db1aacb16493f198a6698b4d201b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5ca49f48f840e8f765806ec1b45d723"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gac5ca49f48f840e8f765806ec1b45d723">opencpu_spi_read_ex</a> (uint8_t bus, char *data, uint32_t len)</td></tr>
<tr class="memdesc:gac5ca49f48f840e8f765806ec1b45d723"><td class="mdescLeft">&#160;</td><td class="mdescRight">spi读取  <a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gac5ca49f48f840e8f765806ec1b45d723">More...</a><br /></td></tr>
<tr class="separator:gac5ca49f48f840e8f765806ec1b45d723"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><br  />
 </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaaeb491736b78f1a80944ff422835a183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeb491736b78f1a80944ff422835a183">&#9670;&nbsp;</a></span>opencpu_spi_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opencpu_spi_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>关闭SPI </p>
<dl class="section return"><dt>Returns</dt><dd>空 </dd></dl>

</div>
</div>
<a id="ga895dff6dee1c78f631a7adf1ae9fd2ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga895dff6dee1c78f631a7adf1ae9fd2ea">&#9670;&nbsp;</a></span>opencpu_spi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_init </td>
          <td>(</td>
          <td class="paramtype">hal_spi_master_config_t *&#160;</td>
          <td class="paramname"><em>spi_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>初始化SPI </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spi_config</td><td>配置SPI的结构体指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 小于 0：失败</dd></dl>
<p>示例： </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> spi_rx_buf[2]= {0};</div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> spi_tx_buf[2]= {0};</div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> spi_tx = 5;</div>
<div class="line"> </div>
<div class="line">hal_spi_master_config_t l_config;   </div>
<div class="line">hal_spi_master_send_and_receive_config_t spi_send_and_receive_config;</div>
<div class="line"><span class="comment">//配置SPI参数</span></div>
<div class="line">l_config.bit_order = HAL_SPI_MASTER_MSB_FIRST;</div>
<div class="line">l_config.slave_port = HAL_SPI_MASTER_SLAVE_0;</div>
<div class="line">l_config.clock_frequency = 1000000;</div>
<div class="line">l_config.phase = HAL_SPI_MASTER_CLOCK_PHASE1;</div>
<div class="line">l_config.polarity = HAL_SPI_MASTER_CLOCK_POLARITY0;</div>
<div class="line"><span class="comment">//初始化SPI</span></div>
<div class="line"><a class="code" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga895dff6dee1c78f631a7adf1ae9fd2ea">opencpu_spi_init</a>(&amp;l_config);</div>
<div class="line"><span class="comment">//spi发送一个字节</span></div>
<div class="line"><a class="code" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga1c8b1e6071da463a8634ed3f66dd56b8">opencpu_spi_write</a>(&amp;spi_tx,1);</div>
<div class="line">spi_tx_buf[0]= 0xEE;</div>
<div class="line">spi_tx_buf[1] = 0x25;</div>
<div class="line"><span class="comment">//发送一个字节，读取两个字节，使用这个函数，读取长度必须大于发送长度，否则会直接报错</span></div>
<div class="line"><a class="code" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga9b184a641e5c4036051cef8a636397b1">opencpu_spi_rw</a>(spi_tx_buf,1,spi_rx_buf,2);</div>
<div class="line"> </div>
<div class="line">使用完后，调用释放函数：</div>
<div class="line"><a class="code" href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gaaeb491736b78f1a80944ff422835a183">opencpu_spi_deinit</a>();</div>
<div class="line">如果用户不需要硬件自动控制CS，把CS引脚初始化为GPIO功能即可</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gab83d55447f92d42aff4beca836e80a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab83d55447f92d42aff4beca836e80a3a">&#9670;&nbsp;</a></span>opencpu_spi_init_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool opencpu_spi_init_ex </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hal_spi_master_config_t *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spi初始化 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>spi总线,0/1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>spi配置 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false</dd></dl>
<p>Details </p>

</div>
</div>
<a id="gaa8ff56443d7a563982886b672858b2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8ff56443d7a563982886b672858b2b9">&#9670;&nbsp;</a></span>opencpu_spi_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_read </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spi读取 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>保存读取数据的内存指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>要读取的长度，最大32 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 小于0：失败</dd></dl>
<p>More details </p>

</div>
</div>
<a id="gac5ca49f48f840e8f765806ec1b45d723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5ca49f48f840e8f765806ec1b45d723">&#9670;&nbsp;</a></span>opencpu_spi_read_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_read_ex </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spi读取 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>spi总线,0/1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>读取数据 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>数据长度 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>spi状态码,参见hal_spi_master_status_t定义</dd></dl>
<p>Details </p>

</div>
</div>
<a id="ga9b184a641e5c4036051cef8a636397b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b184a641e5c4036051cef8a636397b1">&#9670;&nbsp;</a></span>opencpu_spi_rw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_rw </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>send_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>send_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>read_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>read_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI读写，读取长度必须大于发送长度 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">send_buf</td><td>要发送的数据指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send_len</td><td>要发送的数据长度 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_buf</td><td>保存读取数据的地址 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_len</td><td>要读取的数据长度 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 小于0：失败 </dd></dl>

</div>
</div>
<a id="ga1c8b1e6071da463a8634ed3f66dd56b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c8b1e6071da463a8634ed3f66dd56b8">&#9670;&nbsp;</a></span>opencpu_spi_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_write </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>send_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI发送 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">send_buf</td><td>要发送的数据指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>要发送的长度，最大32 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0：成功 小于0：失败 </dd></dl>

</div>
</div>
<a id="gad76db1aacb16493f198a6698b4d201b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad76db1aacb16493f198a6698b4d201b3">&#9670;&nbsp;</a></span>opencpu_spi_write_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_write_ex </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spi发送 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>spi总线,0/1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>待发送数据 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>数据长度 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>spi状态码,参见hal_spi_master_status_t定义</dd></dl>
<p>Details </p>

</div>
</div>
<a id="ga567fad7df82b8155af15e0a5221e6745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga567fad7df82b8155af15e0a5221e6745">&#9670;&nbsp;</a></span>opencpu_spi_write_read_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opencpu_spi_write_read_ex </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>send_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>send_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>recv_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>recv_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spi读写 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>spi总线,0/1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send_data</td><td>发送数据 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send_len</td><td>发送数据长度 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_data</td><td>接收数据 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_len</td><td>接收数据长度 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>spi状态码,参见hal_spi_master_status_t定义</dd></dl>
<p>Details </p>

</div>
</div>
<a id="ga8a79f4202d5f483de5d620aafca721b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a79f4202d5f483de5d620aafca721b3">&#9670;&nbsp;</a></span>openpcu_spi_deinit_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool openpcu_spi_deinit_ex </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spi去初始化 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>spi总线,0/1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false</dd></dl>
<p>Details </p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="agroup___s_p_i___f_u_n_c_t_i_o_n_s_html_ga1c8b1e6071da463a8634ed3f66dd56b8"><div class="ttname"><a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga1c8b1e6071da463a8634ed3f66dd56b8">opencpu_spi_write</a></div><div class="ttdeci">int opencpu_spi_write(unsigned char *send_buf, int len)</div><div class="ttdoc">SPI发送</div></div>
<div class="ttc" id="agroup___s_p_i___f_u_n_c_t_i_o_n_s_html_gaaeb491736b78f1a80944ff422835a183"><div class="ttname"><a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#gaaeb491736b78f1a80944ff422835a183">opencpu_spi_deinit</a></div><div class="ttdeci">void opencpu_spi_deinit(void)</div><div class="ttdoc">关闭SPI</div></div>
<div class="ttc" id="agroup___s_p_i___f_u_n_c_t_i_o_n_s_html_ga9b184a641e5c4036051cef8a636397b1"><div class="ttname"><a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga9b184a641e5c4036051cef8a636397b1">opencpu_spi_rw</a></div><div class="ttdeci">int opencpu_spi_rw(unsigned char *send_buf, int send_len, unsigned char *read_buf, int read_len)</div><div class="ttdoc">SPI读写，读取长度必须大于发送长度</div></div>
<div class="ttc" id="agroup___s_p_i___f_u_n_c_t_i_o_n_s_html_ga895dff6dee1c78f631a7adf1ae9fd2ea"><div class="ttname"><a href="group___s_p_i___f_u_n_c_t_i_o_n_s.html#ga895dff6dee1c78f631a7adf1ae9fd2ea">opencpu_spi_init</a></div><div class="ttdeci">int opencpu_spi_init(hal_spi_master_config_t *spi_config)</div><div class="ttdoc">初始化SPI</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
